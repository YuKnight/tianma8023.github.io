function render(t,e){return t.replace(/(\\)?\{([^\{\}\\]+)(\\)?\}/g,function(t,n,o,i){if(n||i)return t.replace("\\","");var r,a,s,u=o.replace(/\s/g,"").split("."),c=e;for(r=0,a=u.length;r<a;++r)if(s=u[r],void 0===(c=c[s])||null===c)return"";return c})}function showHitokoto(){$.getJSON("http://api.hitokoto.cn?c=a&encode=json",function(t){showMessage(t.hitokoto.substring(0,36)+'<br/><span style="float: right; padding-right: 10px;"><font color="#43A047">'+t.from+"</font></span>",5e3)})}function showMessage(t,e){Array.isArray(t)&&(t=t[Math.floor(Math.random()*t.length+1)-1]),$(".waifu-tips").stop(),$(".waifu-tips").html(t).fadeTo(200,1),null===e&&(e=5e3),hideMessage(e)}function hideMessage(t){$(".waifu-tips").stop().css("opacity",1),null===t&&(t=5e3),$(".waifu-tips").delay(t).fadeTo(200,0)}function getHiddenProp(){var t=["webkit","moz","ms","o"],e="hidden";if(e in document)return e;for(var n=0;n<t.length;n++)if((e=t[n]+"Hidden")in document)return e;return null}function getVisibilityState(){var t=["webkit","moz","ms","o"],e="visibilityState";if(e in document)return e;for(var n=0;n<t.length;n++)if((e=t[n]+"VisibilityState")in document)return e;return null}function isHidden(){var t=getHiddenProp();return!!t&&document[t]}String.prototype.render=function(t){return render(this,t)},/x/.toString=function(){return showMessage("哈哈，你打开了控制台，是想要看看我的秘密吗？",5e3),""},$(document).on("copy",function(){showMessage("你都复制了些什么呀，转载要记得加上出处哦",5e3)}),$.ajax({cache:!0,url:"/assets/json/waifu-tips.json",dataType:"json",success:function(t){$.each(t.mouseover,function(t,e){$(document).on("mouseover",e.selector,function(){Array.isArray(e.text)&&(text=e.text[Math.floor(Math.random()*e.text.length+1)-1]),text=text.render({text:$(this).text()}),showMessage(text,3e3)})}),$.each(t.click,function(t,e){var n=new Array;$(document).on("click",e.selector,function(){var t=e.text;if(Array.isArray(e.text)){if(0==n.length)for(var o=0;o<e.text.length;o++)n.unshift(o);var i=Math.floor(Math.random()*n.length+1)-1;t=e.text[n[i]],n.splice(i,1)}t=t.render({text:$(this).text()}),showMessage(t,3e3)})})}}),function(){if("/"===window.location.pathname){var t,e=(new Date).getHours();t=e>23||e<=5?"你是夜猫子呀？这么晚还不睡觉，明天起的来嘛":e>5&&e<=7?"早上好！一日之计在于晨，美好的一天就要开始了":e>7&&e<=11?"上午好！工作顺利嘛，不要久坐，多起来走动走动哦！":e>11&&e<=14?"中午了，工作了一个上午，现在是午餐时间！":e>14&&e<=17?"午后很容易犯困呢，今天的运动目标完成了吗？":e>17&&e<=19?"傍晚了！窗外夕阳的景色很美丽呢，最美不过夕阳红~":e>19&&e<=21?"晚上好，今天过得怎么样？":e>21&&e<=23?"已经这么晚了呀，早点休息吧，晚安~":"嗨~ 快来逗我玩吧！",showMessage(t,6e3)}}(),function(){if("undefined"==typeof device||!device.mobile()){var t=window.setInterval(showHitokoto,6e4),e=getHiddenProp();if(e){var n=e.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(n,function(){isHidden()?window.clearInterval(t):t=window.setInterval(showHitokoto,6e4)})}}}();