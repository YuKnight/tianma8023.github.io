function render(e,t){return e.replace(/(\\)?\{([^\{\}\\]+)(\\)?\}/g,function(e,n,o,i){if(n||i)return e.replace("\\","");var r,a,s=o.replace(/\s/g,"").split("."),u=t;for(r=0,a=s.length;r<a;++r)if(void 0===(u=u[s[r]])||null===u)return"";return u})}String.prototype.render=function(e){return render(this,e)};var re=/x/;function showHitokoto(){$.getJSON("http://api.hitokoto.cn?c=a&encode=json",function(e){showMessage(e.hitokoto.substring(0,36)+'<br/><span style="float: right; padding-right: 10px;"><font color="#43A047">'+e.from+"</font></span>",5e3)})}function showMessage(e,t){Array.isArray(e)&&(e=e[Math.floor(Math.random()*e.length+1)-1]),$(".waifu-tips").stop(),$(".waifu-tips").html(e).fadeTo(200,1),null===t&&(t=5e3),hideMessage(t)}function hideMessage(e){$(".waifu-tips").stop().css("opacity",1),null===e&&(e=5e3),$(".waifu-tips").delay(e).fadeTo(200,0)}function getHiddenProp(){var e=["webkit","moz","ms","o"],t="hidden";if(t in document)return t;for(var n=0;n<e.length;n++)if((t=e[n]+"Hidden")in document)return t;return null}function getVisibilityState(){var e=["webkit","moz","ms","o"],t="visibilityState";if(t in document)return t;for(var n=0;n<e.length;n++)if((t=e[n]+"VisibilityState")in document)return t;return null}function isHidden(){var e=getHiddenProp();return!!e&&document[e]}re.toString=function(){return showMessage("哈哈，你打开了控制台，是想要看看我的秘密吗？",5e3),""},$(document).on("copy",function(){showMessage("你都复制了些什么呀，转载要记得加上出处哦",5e3)}),$.ajax({cache:!0,url:"/assets/json/waifu-tips.json",dataType:"json",success:function(e){$.each(e.mouseover,function(e,t){$(document).on("mouseover",t.selector,function(){Array.isArray(t.text)&&(text=t.text[Math.floor(Math.random()*t.text.length+1)-1]),text=text.render({text:$(this).text()}),showMessage(text,3e3)})}),$.each(e.click,function(e,t){var n=new Array;$(document).on("click",t.selector,function(){var e=t.text;if(Array.isArray(t.text)){if(0==n.length)for(var o=0;o<t.text.length;o++)n.unshift(o);var i=Math.floor(Math.random()*n.length+1)-1;e=t.text[n[i]],n.splice(i,1)}showMessage(e=e.render({text:$(this).text()}),3e3)})})}}),function(){if("/"===window.location.pathname){var e=(new Date).getHours();showMessage(e>23||e<=5?"你是夜猫子呀？这么晚还不睡觉，明天起的来嘛":e>5&&e<=7?"早上好！一日之计在于晨，美好的一天就要开始了":e>7&&e<=11?"上午好！工作顺利嘛，不要久坐，多起来走动走动哦！":e>11&&e<=14?"中午了，工作了一个上午，现在是午餐时间！":e>14&&e<=17?"午后很容易犯困呢，今天的运动目标完成了吗？":e>17&&e<=19?"傍晚了！窗外夕阳的景色很美丽呢，最美不过夕阳红~":e>19&&e<=21?"晚上好，今天过得怎么样？":e>21&&e<=23?"已经这么晚了呀，早点休息吧，晚安~":"嗨~ 快来逗我玩吧！",6e3)}}(),function(){if("undefined"==typeof device||!device.mobile()){var e=window.setInterval(showHitokoto,6e4),t=getHiddenProp();if(t){var n=t.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(n,function(){isHidden()?window.clearInterval(e):e=window.setInterval(showHitokoto,6e4)})}}}();